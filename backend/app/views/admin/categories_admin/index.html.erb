<div class="row" style="margin: 0;">

<div class="panel panel-info">
	<div class="panel-heading">
		<div class="row" style="margin: 0;">
			<div class="col-sm-4" style="padding: 0;">
				<div class="row" style="margin: 0;">
					<div class="col-sm-6" style="padding: 0;">
						<div class="" style="float: left;">
							<p style="margin: 0;">Category Title</p>
						</div>
					</div>
					<div class="col-sm-6" style="padding: 0;">
						<div class="" style="float: left;">
							<p style="margin: 0;">ID</p>
						</div>
					</div>
				</div>

			</div>

			<div class="col-sm-4 col-sm-offset-4">
				<div class="" style="float: right;">
					<%= link_to new_category_path do %>
						<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Category
					<% end %>
				</div>
			</div>

		</div>
	</div>

	<div class="panel-body" style="text-transform: uppercase;">
		<% @categories.each do |c| %>
			<div class="row" style="margin: 0;">
				<div class="col-sm-4" style="padding: 0;">
					<div class="row" style="margin: 0;">


						<div class="col-sm-6" style="padding: 0;">
							<!-- <%= link_to c.title, c, class: "test-dude" %> -->
							<%= link_to c, {style: 'float: left'} do %>
								<%= c.title %>
							<% end %>
							<div class='test-drop' style="float: right; margin-right: 20px; cursor: pointer;"><span class="glyphicon glyphicon-chevron-down arrow-animate" aria-hidden="true"></span></div>

						</div>
						<div class="col-sm-6" style="padding: 0;">
							<%= link_to c.id %>
						</div>


					</div>
				</div>

				<div class="col-sm-4 col-sm-offset-4" style="padding: 0;">
					<div class="" style="float: right; margin-top: 6px;">
						<%= link_to "edit", edit_category_path(c), class: 'btn btn-default edit-btn' %>
						<%= link_to "delete", category_path(c), method: :delete, data: {confirm: 'Are you sure you want to delete this video?'}, class: 'btn btn-danger delete-btn' %>
					</div>
				</div>
			</div>

			<!-- this is the subcategories -->
			<div class="show-subcats row" style="display: none; margin: 0; width: 100%;">
				<div class="row", style="margin: 0; margin-left: 20px;">

				<% @subcategories.each do |sub| %>

					<% if sub.parent_id == c.id %>


					<!-- <div class="row" style="margin: 0;"> -->
						<div class="col-sm-4" style="padding: 0;">
							<div class="row" style="margin: 0;">


								<div class="col-sm-6" style="padding: 0;">
									<!-- <%= link_to c.title, c, class: "test-dude" %> -->
										<%= link_to sub.title, sub %>

								</div>
								<div class="col-sm-6" style="padding: 0;">
									<%= sub.id %>
								</div>


							</div>
						</div>

						<div class="col-sm-4 col-sm-offset-4" style="padding: 0;">
							<div class="" style="float: right; margin-top: 6px;">
								<%= link_to "edit", edit_category_path(sub), class: 'btn btn-default edit-btn' %>
								<%= link_to "delete", category_path(sub), method: :delete, data: {confirm: 'Are you sure you want to delete this video?'}, class: 'btn btn-danger delete-btn' %>
							</div>
						</div>
						<hr>
					<!-- </div> -->

					<% end %>
				<% end %>
			</div>
				<div class="row" style="margin: 0;">
					<!-- add subcategory -->
				</div>
			</div><!-- end of show-subcats -->

			<hr>

		<% end %>
	</div>
</div>

</div>

<script>
	$('.test-drop').click(function(){
		var $subcategories = $('.show-subcats');
		var $arrow = $('.arrow-animate');

		if($subcategories.css("display") == "none"){
			$subcategories.css("display", "inline-block");
			$subcategories.fadeIn();
			$arrow.removeClass().addClass("glyphicon glyphicon-chevron-up arrow-animate");

		}else{
			$subcategories.css("display", "none");
			$subcategories.fadeOut();
			$arrow.removeClass().addClass("glyphicon glyphicon-chevron-down arrow-animate");
		}
	});
</script>
