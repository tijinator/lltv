<div id="landing-homepage" style="height: 100%;">

  <div class="row" style="height: 100%;">

    <div class="container" style="height: 100%; padding: 0;">
      <div class="col-md-12 header">

        <div class="quote-container">
          "Education is the kindling of a <br>
          flame, not the filling of a vessel." <br>
          <div align="right">â€“ Socrates</div>

          <!-- <img src="<%= image_path('LLTV_overlay_text_1.png')%>" > -->
        </div>

        <div class="colored-bar" id="cat-bar">

          <ul class="nav nav-tabs homepage-category-nav" role="tablist">

            <% @categories.each_with_index do |category, idx| %>

            <li id="category-button" class="bar-option" role="presentation"
                style="background-color: <%= category.html_tab_color %>"
                <% if idx == 0 %>class="active"<% end %>>

                <div href="#<%= category.html_tab_id %>" aria-controls="<%= category.html_tab_id %>" role="tab" data-toggle="tab">
                  <p><%= category.title %>
                    <span class="glyphicon glyphicon-plus colored-bar-plus-icon" aria-hidden="true"></span>

                    <p>
                </div>
            </li>
            <% end %>
            <!-- <li><div><p>More</p></div><span class="glyphicon glyphicon-plus colored-bar-plus-icon" aria-hidden="true"></span></li> -->
          </ul>

          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
          <% @categories.each_with_index do |category, idx| %>

              <div class="panel panel-default" style="margin: 0; border: 0;">
                <div class="panel-heading" role="tab" id="heading<%= idx %>" style="background-color: <%= category.html_tab_color %>; padding: 0; height: 60px;">

                    <div class="panel-title" role="button" data-toggle="collapse" data-parent="#accordion" data-target="#collapse<%= idx %>" aria-expanded="false"  aria-controls="collapse<%= idx %>">
                      <!-- <p class="panel-title"> -->
                        <%= category.title %>
                      <!-- </p> -->
                      <span class="glyphicon glyphicon-plus colored-bar-plus-icon" aria-hidden="true">
                    </div>
                </div>
                <div id="collapse<%= idx %>" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading<%= idx %>">
                  <div class="panel-body">
                    <div class="category-details">
                      <p><%= category.details %></p>
                    </div>
                    <ul class="category-buttons" style="height: 100%;">

                      <li>
                        <a ui-sref="category.show({id: <%= category.id %>})">
                          <div class="bubble-btn pull-left" style="background-color: <%= category.html_color %>;">
                            Browse <%= category.title %> 
                          </div>
                        </a>

                      </li>
                        <!-- <a ui-sref="register"> -->

                      <li>
                        <div ng-controller="AuthModalCtrl">
                          <div class="pull-right bubble-btn create-account" ng-click="openModal('register')">
                              Create Account
                          </div>
                        </div>
                        <!-- </a> -->

                      </li>

                    </ul><!-- end ul category-buttons -->
                  </div>
                </div>
              </div>
            <% end %>
          </div>


        </div>

      </div>

    </div>

  </div><!-- end of row -->


  <div class="row">


    <!-- Tab panes -->
    <div class="tab-content container-fluid" id="details">
      <% @categories.each_with_index do |category, idx| %>
        <div role="tabpanel"
          class="tab-pane row <% if idx == 0 %>active<% end %>" id="<%= category.html_tab_id %>">

          <div class="col-md-6 category-img-container category-container">
            <div class="row">
              <img src="<%= image_path('LLTV_designimage.jpg') %>">
            </div>
          </div>
          <div class="col-md-6 category-details-container category-container">
            <div class="row">
              <div class="col-md-12 category-titles">
                <h3 style="color: <%= category.html_color %>">
                <%= category.title %> Training + Tutorials
                </h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 category-details">
                <p><%= category.details %></p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12" style="height: 50px;">

                <ul class="category-buttons" style="height: 100%;">

                  <li>
                    <a ui-sref="category.show({id: <%= category.id %>})">
                      <div class="bubble-btn pull-left" style="background-color: <%= category.html_color %>;">
                        Browse <%= category.title %> Tutorials
                      </div>
                    </a>

                  </li>
                    <!-- <a ui-sref="register"> -->

                  <li>
                    <div ng-controller="AuthModalCtrl">
                      <div class="pull-right bubble-btn create-account" ng-click="openModal('register')">
                          Create Account
                      </div>
                    </div>
                    <!-- </a> -->

                  </li>

                </ul><!-- end ul category-buttons -->


              </div><!-- end col-md-12 -->
            </div>
          </div>
        </div>
      <% end %>
    </div><!-- end of container-fluid -->

  </div>

  <div class="collapse-test" ng-include="'footer/_footer.html'"></div>

  <!-- <li id="popup" style="display: none;">
    <div  style="background-color: white;">
      <p style="color: #000;">message</p>
    </div>
  </li> -->
</div>
<script>

  $("#category-button div").click(function() {
    if($(window).width() > 768){ //enable scroll if screen width is greater 768
      $('html, body').animate({
          scrollTop: $(".colored-bar").offset().top - 103
      }, 600, "easeOutCirc", function(){
        // console.log("scroll!");
      });
    }else{

    }
  });

  $('.collapse').on('show.bs.collapse', function () {
  //  $(".collapse-test").css({"position":"relative", "top":"330px"});
    $(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus");
  });

  $(".collapse").on('hidden.bs.collapse', function () {
    // $(".collapse-test").css({"position":"relative", "top":"0"});
    $(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus");

  });

</script>
